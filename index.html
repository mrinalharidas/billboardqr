<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AR Billboard Top 10 Songs</title>
  <!-- Load A-Frame for AR framework -->
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <!-- Load MindAR for Image Targeting -->
  <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.1.4/dist/mindar-image-aframe.prod.js"></script>
</head>
<body>
  <h1 style="text-align: center;">Scan the QR code to see the Top 10 Billboard Songs!</h1>
  
  <!-- A-Frame AR Scene -->
  <a-scene mindar-image="imageTargetSrc: './targets.mind'; autoStart: true; uiLoading: yes; uiScanning: yes;" embedded>
    <a-assets>
      <!-- Background image for the AR content -->
      <img id="panel" src="https://cdn-icons-png.flaticon.com/512/727/727240.png" />
    </a-assets>

    <!-- AR Image Target Entity (to trigger the content on QR scan) -->
    <a-entity mindar-image-target="targetIndex: 0">
      <a-plane src="#panel" height="2" width="3" position="0 0 0"></a-plane>

      <!-- Billboard Top 10 Songs List -->
      <a-entity id="song-list" position="0 0.6 0">
        <!-- The JavaScript will populate the song list here -->
      </a-entity>
    </a-entity>

    <!-- Camera for AR -->
    <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>
  </a-scene>

  <script>
    const songs = [
      { title: "Like That", artist: "Future, Metro Boomin, Kendrick", url: "https://youtu.be/sample1" },
      { title: "Cruel Summer", artist: "Taylor Swift", url: "https://youtu.be/sample2" },
      { title: "Texas Hold 'Em", artist: "Beyonce", url: "https://youtu.be/sample3" },
      { title: "Espresso", artist: "Sabrina Carpenter", url: "https://youtu.be/sample4" },
      { title: "Beautiful Things", artist: "Benson Boone", url: "https://youtu.be/sample5" },
      { title: "I Had Some Help", artist: "Post Malone, Morgan Wallen", url: "https://youtu.be/sample6" },
      { title: "Not Like Us", artist: "Kendrick Lamar", url: "https://youtu.be/sample7" },
      { title: "Fortnight", artist: "Taylor Swift ft. Post Malone", url: "https://youtu.be/sample8" },
      { title: "Lose Control", artist: "Teddy Swims", url: "https://youtu.be/sample9" },
      { title: "Too Sweet", artist: "Hozier", url: "https://youtu.be/sample10" }
    ];

    const scene = document.querySelector("#song-list");

    // Loop through the songs array to display them in AR
    songs.forEach((song, i) => {
      const yOffset = -0.1 * i;
      const card = document.createElement("a-entity");

      card.setAttribute("geometry", {
        primitive: "plane",
        height: 0.08,
        width: 1.4,
      });
      card.setAttribute("material", { color: "#fff" });
      card.setAttribute("position", `0 ${yOffset} 0.01`);

      const title = `${song.title} - ${song.artist}`;

      card.setAttribute("text", {
        value: title,
        align: "center",
        width: 1.3,
        color: "black",
        wrapCount: 30,
      });

      card.addEventListener("click", () => {
        window.open(song.url, "_blank");
      });

      scene.appendChild(card);
    });
  </script>
</body>
</html>
